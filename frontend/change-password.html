<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Change Password - Echo Track Schoolcore">
    <meta property="og:title" content="Change Password | Echo Track Schoolcore">
    
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/navbar-dropdown.css">
    <link rel="stylesheet" href="css/change-password.css">
    
    <link rel="icon" type="image/png" sizes="32x32" href="images/web logo.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/web logo.png">
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron&family=Roboto&display=swap" rel="stylesheet">
    
    <title>Change Password | Echo Track Schoolcore</title>
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar" role="navigation" aria-label="Main navigation">
        <div class="nav-container">
            <div class="logo-section">
                <div class="logo">
                    <a href="index.html">
                        <img src="images/web logo.png" alt="Logo Echo Track">
                    </a>
                </div>
            </div>

            <div class="nav-center">
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="About.html">About Echo Track!</a></li>
                    <li><a href="profile.html">Profile</a></li>
                </ul>
            </div>

            <div class="nav-buttons">
                <button id="logoutBtn" class="btn btn-secondary">Logout</button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="change-password-page">
        <div class="change-password-container">
            <div class="page-header">
                <h1>ðŸ”’ Change Password</h1>
                <p>Secure your account with a strong password</p>
            </div>

            <form id="changePasswordForm">
                <!-- Current Password -->
                <section class="form-section">
                    <h2>Current Password</h2>
                    
                    <div class="form-group">
                        <label for="currentPassword">Current Password *</label>
                        <div class="password-input-wrapper">
                            <input type="password" id="currentPassword" name="currentPassword" required placeholder="Enter your current password">
                            <button type="button" class="toggle-password" data-target="currentPassword">
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                    <path d="M10 3C5 3 1.73 7.11 1 10c.73 2.89 4 7 9 7s8.27-4.11 9-7c-.73-2.89-4-7-9-7zm0 12c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z" fill="currentColor"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </section>

                <!-- New Password -->
                <section class="form-section">
                    <h2>New Password</h2>
                    
                    <div class="form-group">
                        <label for="newPassword">New Password *</label>
                        <div class="password-input-wrapper">
                            <input type="password" id="newPassword" name="newPassword" required placeholder="Enter your new password">
                            <button type="button" class="toggle-password" data-target="newPassword">
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                    <path d="M10 3C5 3 1.73 7.11 1 10c.73 2.89 4 7 9 7s8.27-4.11 9-7c-.73-2.89-4-7-9-7zm0 12c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z" fill="currentColor"/>
                                </svg>
                            </button>
                        </div>
                        <div class="password-strength" id="passwordStrength">
                            <div class="strength-bar">
                                <div class="strength-bar-fill" id="strengthBar"></div>
                            </div>
                            <p id="strengthText"></p>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="confirmPassword">Confirm New Password *</label>
                        <div class="password-input-wrapper">
                            <input type="password" id="confirmPassword" name="confirmPassword" required placeholder="Confirm your new password">
                            <button type="button" class="toggle-password" data-target="confirmPassword">
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                    <path d="M10 3C5 3 1.73 7.11 1 10c.73 2.89 4 7 9 7s8.27-4.11 9-7c-.73-2.89-4-7-9-7zm0 12c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z" fill="currentColor"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </section>

                <!-- Password Rules -->
                <section class="form-section info-section">
                    <h2>Password Requirements</h2>
                    <ul class="password-rules">
                        <li id="rule-length">
                            <span class="rule-icon">â—‹</span>
                            <span>At least 8 characters long</span>
                        </li>
                        <li id="rule-uppercase">
                            <span class="rule-icon">â—‹</span>
                            <span>Contains uppercase letter (A-Z)</span>
                        </li>
                        <li id="rule-lowercase">
                            <span class="rule-icon">â—‹</span>
                            <span>Contains lowercase letter (a-z)</span>
                        </li>
                        <li id="rule-number">
                            <span class="rule-icon">â—‹</span>
                            <span>Contains number (0-9)</span>
                        </li>
                        <li id="rule-special">
                            <span class="rule-icon">â—‹</span>
                            <span>Contains special character (!@#$%^&*)</span>
                        </li>
                    </ul>
                </section>

                <!-- Messages -->
                <div class="error-message" id="errorMessage"></div>
                <div class="success-message" id="successMessage"></div>

                <!-- Actions -->
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="window.location.href='profile.html'">Cancel</button>
                    <button type="submit" class="btn btn-primary">Update Password</button>
                </div>
            </form>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-text">
                &copy; 2025 Echo Track SchoolHub. All rights reserved.
            </div>
        </div>
    </footer>

    <script src="js/auth-navbar.js"></script>
    <script src="js/change-password.js"></script>

    <script>
        // Custom cursor
        document.addEventListener('DOMContentLoaded', () => {
            const cursor = document.createElement('div');
            cursor.className = 'custom-cursor';
            document.body.appendChild(cursor);

            document.addEventListener('mousemove', (e) => {
                cursor.style.left = e.clientX + 'px';
                cursor.style.top = e.clientY + 'px';
            });
        });

        // Navbar hide/show on scroll
        const navbar = document.querySelector('.navbar');
        let lastScrollTop = 0;

        window.addEventListener('scroll', function() {
            let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            
            if (scrollTop > lastScrollTop && scrollTop > 100) {
                navbar.classList.add('hidden');
            } else {
                navbar.classList.remove('hidden');
            }
            
            lastScrollTop = scrollTop;
        });
    </script>
</body>
</html>